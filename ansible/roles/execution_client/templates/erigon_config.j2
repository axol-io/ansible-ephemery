# Erigon Configuration File
# Generated by Ansible

[Eth]
SyncMode = "{{ erigon_sync_mode | default('snap') }}"
NetworkId = {{ erigon_network_id | default('5') }}  # 1=Mainnet, 5=Goerli

[Node]
DataDir = "{{ erigon_data_dir }}"
IPCPath = "{{ erigon_data_dir }}/geth.ipc"
HTTPHost = "0.0.0.0"
HTTPPort = {{ el_http_port | default('8545') }}
HTTPCors = ["*"]
HTTPVirtualHosts = ["*"]
HTTPModules = ["eth", "net", "web3", "engine"]
WSHost = "0.0.0.0"
WSPort = {{ el_ws_port | default('8546') }}
WSOrigins = ["*"]
WSModules = ["eth", "net", "web3", "engine"]

[Node.P2P]
MaxPeers = {{ erigon_max_peers | default('50') }}
NoDiscovery = {{ erigon_no_discovery | default('false') }}
ListenAddr = "0.0.0.0:{{ el_p2p_port | default('30303') }}"

[Metrics]
Enabled = true
HTTP = "0.0.0.0:{{ el_metrics_port | default('6060') }}"

[Prune]
{% if erigon_prune_mode is defined %}
Mode = "{{ erigon_prune_mode }}"
{% else %}
Mode = "full"
{% endif %}

[Logging]
JSONFormat = true
FileOutput = "{{ el_log_dir }}/erigon.log" 